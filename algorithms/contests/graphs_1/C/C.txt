https://codeforces.com/group/PVbQ8eK2T4/contest/374347/problem/C

C. Поиск цикла (1 балл, с код-ревью)
ограничение по времени на тест 1 секунда
ограничение по памяти на тест 256 мегабайт
ввод стандартный ввод
вывод стандартный вывод

Дан ориентированный невзвешенный граф без петель и кратных рёбер. Необходимо определить есть ли в нём циклы, и если есть, то вывести любой из них.

Входные данные
В первой строке входного файла находятся два натуральных числа N и M (1<=N<=100000, M<=100000) — количество вершин и рёбер в графе соответственно. Далее в M строках перечислены рёбра графа. Каждое ребро задаётся парой чисел  — номерами начальной и конечной вершин соответственно.

Выходные данные
Если в графе нет цикла, то вывести «NO», иначе  — «YES» и затем перечислить все вершины в порядке обхода цикла.

Примеры
Входные данные
2 2
1 2
2 1
Выходные данные
YES
1 2

Входные данные
3 3
1 2
2 3
1 3
Выходные данные
NO
