https://codeforces.com/group/PVbQ8eK2T4/contest/371629/problem/C

C. Гимли и обскварки (2 балла)
ограничение по времени на тест 2 s
ограничение по памяти на тест 256 MB
ввод standard input
вывод standard output

Гномы прорыли очень удобную для них систему тоннелей в пещерах. У неё есть только один вход и один выход. Равноудаленные от входа по количеству пройденных тоннелей пещеры на языке гномов называется обскварк.

В системе тоннелей есть L обскварков и N пещер на каждом из них. Рассмотрим два соседних обскварка L1 и L2. Чтобы можно было быстро передвигаться в тоннелях, каждая пещера из уровня L1 соединена с каждой пещерой из уровня L2. Для перехода из i-й перещы первого обскварка в j-ю пещеру второго (i,j∈{1, 2, ..., N}) необходимо cij миллилитров масла в фонаре. Для каждой пары соседних обскварков это количество одинаковое. Также количество масла на переход в каждую пещеру L2 тоже одинаковое для всех пещер из L1, то есть cij одинаково для i∈{1, 2, …, N} и фиксированного j.

У Гимли есть бутылки для масла емкостью M миллилитров. На свой путь по таким пещерам он хочет взять с собой несколько полных бутылочек с маслом. Гимли просит вас помочь ему и найти количество путей между точками входа и выхода таких, что суммарное количество масла будет делиться на заданное число M.

Входные данные
Первая строка ввода содержит N (1<=N<=106) – число пещер в обскварке, L (2<=L<=105) – число обскварков, и M (2<=M<=100).
Вторая, третья и четвёртые строки содержат N целых чисел, 0<=cost<=M обозначающих количество масла, необходимое для перехода от точки входа до первого обскварка, количество масла, необходимое для перехода между соседними обскварками, как описано выше, и количество масла, необходимое для перехода от последнего обскварка до точки выхода.

Выходные данные
Выведите число путей по модулю 109+7, которые может выбрать Гимли так, чтобы суммарное количество масла на каждом пути делилось бы на M.

Пример
Входные данные
2 3 13
4 6
2 1
3 4
Выходные данные
2

Примечание
Это система тоннелей с 3 обскварками, на каждом обскварке по 2 пещеры. Пути 6->2->2->3, и 6->2->1->4 - единственные с суммарным количеством масла, делящимся на 13. Обратите внимание, что все входящие в пещеру тоннели имеют одинковое количество масла на переход и то, что они одинаковы для всех уровней.
