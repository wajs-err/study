# Variant

02.06.2022

Говнокод...
1) Копипаста в get<>(Variant) и VariadicUnion::get<N>(): там надо что-то с константностью и 
принимаемым типом делать
2) Везде, где есть placement new внутри него есть C-style каст к void*, и это выглядит не
очень, но помогает
3) Весьма вероятно, что Variant плохо работает с константными типами
4) Также могут быть, например, такие проблемы Variant<std::string, int> = const char* или
около того
5) Плохо написаны operator=(Variant&) и operator=(Variant&&). Проблема в том, 
что индекс, который они хранят не может использоваться как шаблонный параметр. Еще 
я не знаю, как обращаться к родителям, если их переменное количество (если это вообще возможно).
Поэтому пришлось сделать странный и кривой fold expression. 
(Решение от Артемия: сделать функцию VariantAlternative::clone() и вызвать ее у всех родителей)

В общем, код грустный, но очень прикольный и интересно устроенный.