# Циклический барьер

*Барьер* – примитив синхронизации для набора потоков, который представляет виртуальную границу в коде, пересечь которую потоки могут только вместе.

Будем считать, что с барьером работает фиксированный набор потоков.

Барьер реализует единственный метод: `void ArriveAndWait()`

Когда поток хочет пройти через барьер, он вызывает этот метод и блокируется до тех пор, пока к барьеру не подойдут все остальные потоки, т.е. до тех пор, пока все они не вызовут `ArriveAndWait()`.

Поток, последним вызвавший `ArriveAndWait()`, разблокирует все ожидающие потоки.

Барьер называется *циклическим*, если после разблокировки потоки могут вновь использовать его для синхронизации.

## Барьер в `std`

См. [std::barrier](https://en.cppreference.com/w/cpp/thread/barrier)

## Задание

Реализуйте [циклический барьер](cyclic_barrier.hpp) с помощью условных переменных.

Можно считать, что потоки корректно работают с барьером, т.е. метод `ArriveAndWait` вызывают одни и те же потоки-участники, а их общее число задано в конструкторе. В противном случае поведение барьера не определено.

### Требования к реализации

На один раунд (волну) барьер должен "тратить" один вызов `notify_all` на кондваре.
